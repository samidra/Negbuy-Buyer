<app-mainheader></app-mainheader>

<!-- -------------------------------------------------------------------- -->
<div class="container-fluid" style="background-color: white;" *ngIf="loaderS ">

    <div class="row p-md-3 p-2 pt-3">

        <div class="col-lg-8 p-3 pt-1">

            <div class="row sticky-top">

                <div class="col-12 p-1 greeting">
                    <div class="d-flex">
                        <img src="assets/logo/RectangleExwork.png" alt="">
                        <h3>Hi.!! <br>
                            <span>Name</span>

                        </h3>
                    </div>

                    <div class="col-2 p-1 greeting-order">
                        <h3>
                            My Order
                        </h3>
                    </div>
                </div>

            </div>

            <div class="row">

                <div class="col-12  mt-3">

                    <div class="row orderdetailbox px-3">

                        <div class="col-6 p-2">
                            <div class="shimmer mt-2" style="height: 150px; width: 100%;"></div>
                        </div>

                        <div class="col-6 p-2">
                            <div class="shimmer mt-2" style="height: 150px; width: 100%;"></div>
                        </div>

                        <div class="col-12 p-2">
                            <div class="shimmer mt-2" style="height: 25px; width: 100%;"></div>
                        </div>
                    </div>

                    <div class="row orderdetailbox px-3">

                        <div class="col-6 p-2">
                            <div class="shimmer mt-2" style="height: 150px; width: 100%;"></div>
                        </div>

                        <div class="col-6 p-2">
                            <div class="shimmer mt-2" style="height: 150px; width: 100%;"></div>
                        </div>

                        <div class="col-12 p-2">
                            <div class="shimmer mt-2" style="height: 25px; width: 100%;"></div>
                        </div>
                    </div>

                    <div class="row orderdetailbox px-3">

                        <div class="col-6 p-2">
                            <div class="shimmer mt-2" style="height: 150px; width: 100%;"></div>
                        </div>

                        <div class="col-6 p-2">
                            <div class="shimmer mt-2" style="height: 150px; width: 100%;"></div>
                        </div>

                        <div class="col-12 p-2">
                            <div class="shimmer mt-2" style="height: 25px; width: 100%;"></div>
                        </div>
                    </div>

                </div>

            </div>


        </div>

        <div class="col-lg-4 p-1 ">
            <div class="row sticky-top">
                <div class="col-12">
                    <div class="FAq pb-5">
                        <li class="faq-heading lifaq p-4">FAQs</li>

                        <div class="accordion accordion-flush" id="accordionFlushExample">
                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingOne">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseOne" aria-expanded="false"
                                        aria-controls="flush-collapseOne" (click)="toggleTextClass(0)"
                                        [ngClass]="selectedFaq ==0?'red-text':''">
                                        <p>What does DDP mean?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseOne" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">DDP stands for "Delivered Duty Paid." It means that all
                                        import duties and taxes are
                                        included in the product price.
                                        You won't have to pay any additional charges upon delivery.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseTwo" aria-expanded="false"
                                        aria-controls="flush-collapseTwo" (click)="toggleTextClass(1)"
                                        [ngClass]="selectedFaq ==1?'red-text':''">
                                        <p>What is "Ex Works" (EXW)?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        "Ex Works" means the seller's responsibility ends once the product is made
                                        available at their premises.
                                        You'll need to arrange and pay for all shipping and customs-related expenses.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseThree" aria-expanded="false"
                                        aria-controls="flush-collapseThree" (click)="toggleTextClass(2)"
                                        [ngClass]="selectedFaq ==2?'red-text':''">
                                        <p>What's the estimated delivery time?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseThree" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        The estimated delivery time is usually mentioned in the order confirmation
                                        email.
                                        It depends on the shipping method and your location.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingFour">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseFour" aria-expanded="false"
                                        aria-controls="flush-collapseFour" (click)="toggleTextClass(3)"
                                        [ngClass]="selectedFaq ==3?'red-text':''">
                                        <p>Can I change my shipping address after placing the order?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseFour" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingFour" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Depending on the order status, you may or may not be able to change the shipping
                                        address.
                                        Contact our customer support for assistance.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingFive">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseFive" aria-expanded="false"
                                        aria-controls="flush-collapseFive" (click)="toggleTextClass(4)"
                                        [ngClass]="selectedFaq ==4?'red-text':''">
                                        <p>Do I have to pay customs duties for international orders?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseFive" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingFive" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Customs duties may apply depending on your country's regulations. For DDP
                                        orders, duties are included.
                                        For EXW orders, you'll be responsible for customs clearance.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingSix">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseSix" aria-expanded="false"
                                        aria-controls="flush-collapseSix" (click)="toggleTextClass(5)"
                                        [ngClass]="selectedFaq ==5?'red-text':''">
                                        <p>Can I change the shipping method after placing the order?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseSix" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingSix" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Shipping method changes might be possible if your order hasn't shipped yet.
                                        Contact us to inquire about changing the shipping method.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingSeven">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseSeven" aria-expanded="false"
                                        aria-controls="flush-collapseSeven" (click)="toggleTextClass(6)"
                                        [ngClass]="selectedFaq ==6?'red-text':''">
                                        <p>I change items in my order after it's placed?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseSeven" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingSeven" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Unfortunately, once an order is placed, we can't modify the items.
                                        You may need to cancel and place a new order.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingEight">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseEight" aria-expanded="false"
                                        aria-controls="flush-collapseEight" (click)="toggleTextClass(7)"
                                        [ngClass]="selectedFaq ==7?'red-text':''">
                                        <p>How do I know if my order has been shipped? </p>
                                    </button>
                                </li>
                                <div id="flush-collapseEight" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingEight" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        You'll receive an email with tracking information once your order is shipped.
                                        You can also track your order by clicking on "Track Order" in the "My Order"
                                        section of your account.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingNine">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseNine" aria-expanded="false"
                                        aria-controls="flush-collapseNine" (click)="toggleTextClass(8)"
                                        [ngClass]="selectedFaq ==8?'red-text':''">
                                        <p>How can I download the invoice for my order? </p>
                                    </button>
                                </li>
                                <div id="flush-collapseNine" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        You can easily download the invoice by visiting the "My Order" section in your
                                        account,
                                        selecting the order, and clicking on the "Download Invoice" button.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingTen">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseTen" aria-expanded="false"
                                        aria-controls="flush-collapseTen" (click)="toggleTextClass(9)"
                                        [ngClass]="selectedFaq ==9?'red-text':''">
                                        <p>Where can I find the bill for my recent purchase? </p>
                                    </button>
                                </li>

                                <div id="flush-collapseTen" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingTen" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Log in to your account, navigate to the "My Order" page,
                                        and choose the order you need the bill for. Click on "Download Invoice"
                                        to obtain the bill.
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- </ul> -->
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>
<!-- -------------------------------------------------------------------- -->
<div class="container-fluid" style="background-color: white;" *ngIf="!loaderS">

    <div class="row">

        <div class="col-lg-8">

            <div class="row p-sm-3 p-2 ">

                <div class="col-12 p-1 greeting">
                    <div class="d-flex">
                        <img src="{{profile_pic}}" alt="">
                        <h3>Hi.!! <br>
                            <span>{{BuyerAddressDelivery.first_name}}</span>

                        </h3>
                    </div>

                    <div class="col-2 p-1 greeting-order">
                        <h3>
                            My Order
                        </h3>
                    </div>
                </div>

                <div class="col-12 mt-3 order_status">
                    <div class="row pt-2 pb-2">

                        <div class="col-12 order_status-order_id">
                            <div class="row">
                                <div class="col-sm-6">
                                    <h3>Order ID : {{myOrderRes?.order_type}}-{{myOrderRes?.order_id}}</h3>
                                </div>
                                <div class="col-sm-6" *ngIf="myOrderRes?.order_type != 'DDP' && myOrderRes?.buyer_status === 'Pending'">

                                    <div class="order_status-time_col">

                                        <div *ngIf=" remainingTime.days < 1 && !isTime_up; else showDate"
                                            style=" display: flex;">
                                            <p class="p-2">
                                                Time Left <br>
                                                for Payment
                                            </p>

                                            <div class="divshow">
                                                <h4 *ngIf="remainingTime.days === 0 && !isTime_up">
                                                    <span [class.flip]="flipHours">{{ remainingTime.hours < 10 ? '0' +
                                                            remainingTime.hours : remainingTime.hours }}</span> :
                                                </h4>
                                                <p> Hours </p>
                                            </div>
                                            <div class="divshow">
                                                <h4 *ngIf="remainingTime.days === 0 && !isTime_up">
                                                    <span [class.flip]="flipMinutes">{{ remainingTime.minutes < 10 ? '0'
                                                            + remainingTime.minutes : remainingTime.minutes }}</span> :
                                                </h4>
                                                <p> Minutes </p>
                                            </div>
                                            <div class="divshow">
                                                <h4 *ngIf="remainingTime.days === 0 && !isTime_up">
                                                    <span [class.flip]="flipSeconds">{{ remainingTime.seconds < 10 ? '0'
                                                            + remainingTime.seconds : remainingTime.seconds }}</span>
                                                </h4>
                                                <p> Seconds </p>
                                            </div>
                                        </div>
                                        <ng-template #showDate>
                                            <h4 *ngIf="!isTime_up">No. of days: {{remainingTime.days }} Left</h4>
                                            <h4 style="font-size: 16px; font-family: 600; cursor: pointer;"
                                                (click)="scrollPaynow('pay_now_time')" *ngIf="isTime_up">
                                                Payment Due: &nbsp; <a class="blinking-text" style="color: #1b916d"> Pay Now</a>
                                            </h4>
                                        </ng-template>

                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="col-md-8 p-sm-4 p-2">
                            <div class="row order_status-address_details p-sm-3 p-1">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-3 order_status-box_withborder">
                                            <div class="order_status-div_mini_box">
                                                <div class="order_status-div_miniStatuus">
                                                    <img src="assets/order_page/order placed.png" alt="" srcset="">
                                                </div>
                                                <p class="para"> {{myOrderRes?.order_type != 'DDP' ? 'Order Placed'
                                                    : 'Order Placed'}} </p>
                                            </div>
                                            <div class="dot_border"></div>
                                        </div>

                                        <div class="col-3 order_status-box_withborder">

                                            <div class="order_status-div_mini_box">
                                                <div class="order_status-div_miniStatuus1"
                                                    [ngClass]="myOrderRes?.buyer_status === 'Confirmed' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'Ready For Pick Up' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'Picked Up' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'Shipped' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'On the Way' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'Delivered' ? 'activebuyerstatus' : '' ">
                                                    <img src="assets/order_page/order Processing.png" alt="" srcset="">
                                                </div>
                                                <p class="para"> {{myOrderRes?.order_type != 'DDP' ? 'Order Confirmed' :
                                                    'Order Shipped'}} </p>
                                            </div>
                                            <div
                                                [ngClass]="myOrderRes?.buyer_status === 'Confirmed' ? 'dot_border' : myOrderRes?.buyer_status === 'Ready For Pick Up' ? 'dot_border' : myOrderRes?.buyer_status === 'Picked Up' ? 'dot_border' :myOrderRes?.buyer_status === 'Shipped' ? 'dot_border' : myOrderRes?.buyer_status === 'On the Way' ? 'dot_border' : myOrderRes?.buyer_status === 'Delivered' ? 'dot_border' : 'dot_border1'">
                                            </div>
                                        </div>

                                        <div class="col-3 order_status-box_withborder">

                                            <div class="order_status-div_mini_box third">
                                                <div class="order_status-div_miniStatuus1"
                                                    [ngClass]="myOrderRes?.buyer_status === 'Ready For Pick Up' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'Picked Up' ? 'activebuyerstatus' :  myOrderRes?.buyer_status === 'Picked Up' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'On the Way' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'Delivered' ? 'activebuyerstatus' : ''">
                                                    <img src="assets/order_page/order Confirmd.png" alt="" srcset="">
                                                </div>
                                                <p class="para"> {{myOrderRes?.order_type != 'DDP' ? 'Ready to Pickup' :
                                                    'Out for Delivery'}} </p>
                                            </div>
                                            <div
                                                [ngClass]="myOrderRes?.buyer_status === 'Ready For Pick Up' ? 'dot_border' : myOrderRes?.buyer_status === 'Picked Up' ? 'dot_border' : myOrderRes?.buyer_status === 'On the Way' ? 'dot_border' : myOrderRes?.buyer_status === 'Delivered' ? 'dot_border' : 'dot_border1'">
                                            </div>
                                        </div>

                                        <div class="col-3 order_status-box_withborder">

                                            <div class="order_status-div_mini_box last_box">
                                                <div class="order_status-div_miniStatuus1"
                                                    [ngClass]="myOrderRes?.buyer_status === 'Picked Up' ? 'activebuyerstatus' : myOrderRes?.buyer_status === 'Delivered' ? 'activebuyerstatus' : ''">

                                                    <img src="assets/order_page/Ready to Ship.png" alt="" srcset="">
                                                </div>
                                                <p class="para"> {{myOrderRes?.order_type != 'DDP' ? 'Picked Up' :
                                                    'Order Delivered'}} </p>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-10 mt-3 mb-2">
                                    <hr>
                                </div>

                                <div class="mt-5 col-sm-6">
                                    <h4>
                                        {{myOrderRes?.order_type == 'DDP' ? 'Negbuy Warehouse' : 'Pick up Address'}}
                                    </h4>
                                    <p>
                                        G-21, 3rd Floor, Croma Campus, Noida Sector 3,
                                        Near Noida Sec-16 Metro, Noida, 201013
                                    </p>
                                </div>

                                <div class="mt-5 col-sm-6" *ngIf="myOrderRes?.order_type == 'DDP'">
                                    <h4>
                                        Delivery Address 
                                    </h4>
                                    <p style="width: 70%;">
                                        {{myOrderRes?.shipping_address}}, <br>
                                        {{ myOrderRes?.city }} {{myOrderRes?.state}}, <br>
                                        {{ myOrderRes?.country }} {{myOrderRes?.pincode}}, 
                                    </p>
                                </div>

                                <div class="mt-5 col-sm-6">
                                    <h4>
                                        Order Type
                                    </h4>
                                    <p>
                                        {{myOrderRes?.order_type}}
                                    </p>
                                </div>

                                <div class="mt-5 col-sm-6">
                                    <h4>Expected Delivery Date</h4>
                                    <p>{{myOrderRes?.expected_delivery_date}}</p>
                                </div>

                                <div class="mt-5 col-sm-6">
                                    <h4>Payment Status</h4>
                                    <p>{{myOrderRes?.transaction_id == 'None'? 'Not Paid' : 'Paid' }}</p>
                                </div>

                                <div class="mt-5 col-sm-6" *ngIf="myOrderRes?.transaction_id != 'None'">

                                    <h4>Transaction Id</h4>
                                    <p>{{myOrderRes?.transaction_id}}</p>
                                </div>

                                <div class="mt-5 col-sm-6" *ngIf="myOrderRes?.docket_number != null">

                                    <h4>Docket Number </h4>
                                    <p>{{myOrderRes?.docket_number == null? 'To be Filled' :
                                        myOrderRes?.docket_number }}</p>
                                </div>

                                <div class="mt-5 col-sm-6" *ngIf="myOrderRes?.transaction_id != 'None'">

                                    <h4 class="mb-2">Invoice Download</h4>
                                    <a (click)="downloadPDF2()" *ngIf="showButtonInvoice">Download Invoice
                                    </a>
                                    <a *ngIf="!showButtonInvoice"
                                        style="display: flex; width: 125px; justify-content: center;">
                                        <span class=" spinner-border" style="color: rgb(5, 22, 121) !important;"
                                            role="status"></span>
                                    </a>

                                </div>

                                <div class="mt-5 col-12  formside-mainform" 
                                    *ngIf="myOrderRes?.docket_number === null">

                                    <h4>Docket Number</h4>
                                    <div class="row mt-3">
                                        <h5><span>Pick UP Address:</span> G-21, Sector 3, Noida, Uttar Pradesh,
                                            201301</h5>
                                        <form #DocketForm="ngForm" id="123"
                                            (ngSubmit)="SubmitDocketDetails(DocketForm)">
                                            <div class="col-md-8 col-12 formcole mt-2">
                                                <div class="row">

                                                    <div class="col-8">

                                                        <input type="text" placeholder="Enter Docket Number"
                                                            [(ngModel)]="OrderDocketNumber" #DocketNumber="ngModel"
                                                            required name="OrderDocketNumber">
                                                        <div
                                                            *ngIf="DocketNumber.errors && (DocketNumber.invalid && DocketNumber.touched) || DocketForm.submitted">
                                                            <div class="error_message"
                                                                style="color: #F54646; font-weight: 500;"
                                                                *ngIf="DocketNumber.errors">
                                                                Please Enter Docket Number.
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-4 fileupload">
                                                        <label *ngIf="DocketFile.show != ''">
                                                            <i class="bi bi-check-circle" style="color: green;"></i>
                                                            <p>Uploaded Sucessfully </p>
                                                        </label>

                                                        <label for="myfile" *ngIf="DocketFile.show === ''">
                                                            <p> <i class="bi bi-arrow-up-circle-fill"></i> Upload File
                                                            </p>
                                                        </label>

                                                        <input type="file" id="myfile" style="display: none;"
                                                            (change)="CheckI($event)"
                                                            [name]="docketFileInput('DocketFileInput', 1)" required>
                                                    </div>

                                                    <div *ngIf="DocketForm.submitted && DocketFile.show === ''">

                                                        <div class="error_message"
                                                            style="color: #F54646; font-weight: 500;">
                                                            Please Attach Docket File.
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="col-md-4 col-12 mt-2">
                                                <button type="submit" class="submit mx-md-5 mx-0">
                                                    <span *ngIf="!submitDocketDetailsLoader">Submit</span>
                                                    <span class=" spinner-border" *ngIf="submitDocketDetailsLoader"
                                                        style="color: rgb(3, 5, 100) !important;" role="status"></span>
                                                </button>

                                            </div>
                                            <div class="col-md-8 sampledoc">
                                                <br>
                                                <h4>Sample document ?</h4>
                                                <br>
                                                <span id="docket_number_submit_to_be" [ngClass]="myOrderRes?.ask_for_docket == true ? 'blinking-text': ''">*To Confirm Your Order Enter Docket Number</span>
                                            </div>
                                        </form>
                                    </div>

                                </div>

                                <div class="mt-5 col-lg-10" style="display: flex; flex-direction: column;"
                                    *ngIf="!myOrderRes?.feedback_recorded">
                                    <h4>Having Issue or Need Help?</h4>
                                    <p>Describe your issue below.</p>

                                    <input type="text" [(ngModel)]="subject_message" placeholder="Subject"
                                        class="inbox">

                                    <div style="display: flex; align-items: flex-end;">
                                        <textarea class="inbox1" cols="30" rows="5" placeholder="Write issue here."
                                            [(ngModel)]="text_message"></textarea>

                                        <button type="submit" class="submitproblem mx-md-5 mx-2"
                                            (click)="submitproblemForm()">
                                            <span *ngIf="isproblemSubmit">Submit</span>
                                            <span *ngIf="!isproblemSubmit" class=" spinner-border" style="color: rgb(5, 22, 121) !important;"
                                            role="status"></span>
                                        </button>

                                    </div>
                                </div>

                                <div class="mt-5 col-lg-10" style="display: flex; flex-direction: column; "
                                *ngIf="myOrderRes?.feedback_recorded">
                                <h4>Thank you for reaching out!</h4>
                                <h4>We are here to help.</h4>
                                <p><span><i class="bi bi-telephone-fill"></i> +91 78368 03051</span></p>
                                <p><span><i class="bi bi-envelope-paper-fill"></i> {{'contactus@negbuy.com'}}</span>
                                </p>

                            </div>      

                            <div class="mt-5 col-lg-10" style="display: flex; flex-direction: column;"
                            *ngIf="(myOrderRes?.buyer_status === 'Picked Up' && !myOrderRes?.review_recorded) || (myOrderRes?.buyer_status === 'Delivered' && !myOrderRes?.review_recorded)">
                                    <h4>How Satisfied are you with your experience <br>
                                        with Product?
                                    </h4>
                                    <div class="row rateForm">

                                        <div class="col-12 mt-1 d-flex">

                                            <ng-rating-bar class="custom-star-size"
                                                [(ngModel)]="SubmitYourReview.starvalue"
                                                [(value)]="SubmitYourReview.starvalue" name="starvalue" required
                                                #starvalue="ngModel" [ratingCount]="5"></ng-rating-bar>

                                            <div class="rateeviewSelect" *ngIf="SubmitYourReview.starvalue == 1 "
                                                [ngStyle]="{'color': SubmitYourReview.starvalue === 1  ? 'red' : 'inherit'}">
                                                Very Bad
                                            </div>
                                            <div class="rateeviewSelect" *ngIf="SubmitYourReview.starvalue == 2 "
                                                [ngStyle]="{'color': SubmitYourReview.starvalue === 2  ? 'orange' : 'inherit'}">
                                                Bad
                                            </div>
                                            <div class="rateeviewSelect" *ngIf="SubmitYourReview.starvalue == 3 "
                                                [ngStyle]="{'color': SubmitYourReview.starvalue === 3  ? 'green' : 'inherit'}">
                                                Good
                                            </div>
                                            <div class="rateeviewSelect" *ngIf="SubmitYourReview.starvalue == 4 "
                                                [ngStyle]="{'color': SubmitYourReview.starvalue === 4  ? 'green' : 'inherit'}">
                                                Very Good
                                            </div>
                                            <div class="rateeviewSelect" *ngIf="SubmitYourReview.starvalue == 5 "
                                                [ngStyle]="{'color': SubmitYourReview.starvalue === 5  ? 'green' : 'inherit'}">
                                                Excellent
                                            </div>

                                        </div>

                                        <div class="col-lg-10 mt-2" style="display: flex;align-items: flex-end;">
                                            <input type="text" placeholder="Write review here...."
                                                [(ngModel)]="SubmitYourReview.ReviewDetail">

                                            <button type="submit" class="submit" (click)="submitReview()"
                                                *ngIf="!this.submitReviewLoader">
                                                Submit
                                            </button>
                                            <button type="submit" class="submit" *ngIf="this.submitReviewLoader">
                                                <span class=" spinner-border" style="color: rgb(3, 5, 100) !important;"
                                                    role="status"></span>
                                            </button>
                                        </div>

                                        <div class="col-12 mt-1" *ngIf="invalidAlert">
                                            <span style="color: red;">Please fill all details</span>
                                        </div>

                                    </div>

                                </div>

                            </div>
                        </div>

                        <div class="col-md-4 mt-3 order_status-trackng_div">
                            <div class="row ">
                                <div class="col-12">
                                    <h4>
                                        Pick up Address
                                    </h4>
                                    <p>
                                        Track your package
                                    </p>
                                </div>

                                <div class="col-2"></div>
                                <div class="col-10 mt-3 tracker">
                                    <div class="row ">

                                        <div class="col-12 tracker-box" *ngFor="let break_point of BreakpointRes">
                                            <div class="row">
                                                <div class="col-1 tracker-box_img">
                                                    <img src="assets/order_page/white tick.png" srcset=""
                                                        class="img_white" *ngIf="break_point.completed">
                                                    <img src="assets/order_page/Loading grey.png" srcset=""
                                                        class="img_white" *ngIf="!break_point.completed">
                                                    <div class="dic"
                                                        *ngIf="break_point.title_breakpoints[break_point.title_breakpoints.length - 1]?.completed">
                                                    </div>
                                                    <div class="dica"
                                                        *ngIf="!break_point.title_breakpoints[break_point.title_breakpoints.length - 1]?.completed ">
                                                    </div>
                                                </div>
                                                <div class="col-11">
                                                    <div class="tracker-box_title">
                                                        <h4>
                                                            {{break_point.status_title}} <br>
                                                            <span>{{break_point.timestamp}}</span>
                                                        </h4>
                                                    </div>
                                                    <div class="tracker-box_subtitle_title"
                                                        *ngFor="let title_break_points of break_point.title_breakpoints">
                                                        <img src="assets/order_page/green tick.png" alt="" srcset=""
                                                            class="img_white" *ngIf="title_break_points.completed">
                                                        <img src="assets/order_page/Loading grey.png" srcset=""
                                                            class="img_white" *ngIf="!title_break_points.completed">
                                                        <h4>
                                                            {{title_break_points.sub_title}} <br>
                                                            <span>{{title_break_points.timestamp}}</span>
                                                        </h4>
                                                    </div>

                                                </div>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-12 p-sm-4 p-2 mt-4 order_status">
                    <div class=" row order_status-product_price_detail p-sm-3 p-1">
                        <div class="col-12">
                            <h4>Order Items</h4>
                        </div>
                        <div class="col-sm-3 mt-3 img_box">
                            <img src="{{myOrderRes?.product_image}}" alt="" srcset="">
                        </div>
                        <div class="col-sm-6 mt-3 product_title">
                            <span>{{myOrderRes?.category}}</span>
                            <h3>{{myOrderRes?.product_title}}</h3>

                            <div class="color_size">
                                <h4>Color - <span>{{myOrderRes?.color}}</span></h4>
                                <h4>Size - <span>{{myOrderRes?.size}}</span></h4>
                            </div>
                        </div>
                        <div class="col-sm-3 mt-3 price_quantity">
                            <h3>{{myOrderRes?.quantity}} X {{myOrderRes?.product_price}}</h3>
                        </div>

                        <div class="col-12 p-4">
                            <hr>
                        </div>

                        <div class="col-12" style="background-color: #D9D9D933;">
                            <h4>Order Summary</h4>
                        </div>
                        <div class="col-12 price_of_product">
                            <p>Product Price ({{myOrderRes?.quantity}} Pieces) <span>{{myOrderRes?.qty_x_price}}</span></p>
                            <p>GST ({{myOrderRes?.gst_percent}}%) <span>{{myOrderRes?.gst}}</span></p>
                            <p>Service Charges <span>{{myOrderRes?.service_charge}}</span></p>
                            <p>Delivery Charges <span>{{myOrderRes?.order_type != 'DDP' ? '0' :
                                    myOrderRes?.delivery_charge }}</span></p>
                            <h4>Total Amount <span>{{myOrderRes?.total_amount}}</span></h4>

                            <div class="pay_now" id="pay_now_time"
                                *ngIf="myOrderRes?.transaction_id === 'None' && myOrderRes?.order_type != 'DDP' ">
                                <button (click)="payNow()">Pay Now</button>
                            </div>

                        </div>

                    </div>
                </div>
            </div>


        </div>

        <div class="col-lg-4 p-1  pt-3">
            <div class="row sticky-top">
                <div class="col-12">
                    <div class="FAq pb-2">
                        <li class="faq-heading lifaq p-4">FAQs</li>

                        <div class="accordion accordion-flush" id="accordionFlushExample">
                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingOne">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseOne" aria-expanded="false"
                                        aria-controls="flush-collapseOne" (click)="toggleTextClass(0)"
                                        [ngClass]="selectedFaq ==0?'red-text':''">
                                        <p>What does DDP mean?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseOne" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">DDP stands for "Delivered Duty Paid." It means that all
                                        import duties and taxes are
                                        included in the product price.
                                        You won't have to pay any additional charges upon delivery.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseTwo" aria-expanded="false"
                                        aria-controls="flush-collapseTwo" (click)="toggleTextClass(1)"
                                        [ngClass]="selectedFaq ==1?'red-text':''">
                                        <p>What is "Ex Works" (EXW)?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        "Ex Works" means the seller's responsibility ends once the product is made
                                        available at their premises.
                                        You'll need to arrange and pay for all shipping and customs-related expenses.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseThree" aria-expanded="false"
                                        aria-controls="flush-collapseThree" (click)="toggleTextClass(2)"
                                        [ngClass]="selectedFaq ==2?'red-text':''">
                                        <p>What's the estimated delivery time?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseThree" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        The estimated delivery time is usually mentioned in the order confirmation
                                        email.
                                        It depends on the shipping method and your location.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingFour">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseFour" aria-expanded="false"
                                        aria-controls="flush-collapseFour" (click)="toggleTextClass(3)"
                                        [ngClass]="selectedFaq ==3?'red-text':''">
                                        <p>Can I change my shipping address after placing the order?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseFour" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingFour" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Depending on the order status, you may or may not be able to change the shipping
                                        address.
                                        Contact our customer support for assistance.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingFive">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseFive" aria-expanded="false"
                                        aria-controls="flush-collapseFive" (click)="toggleTextClass(4)"
                                        [ngClass]="selectedFaq ==4?'red-text':''">
                                        <p>Do I have to pay customs duties for international orders?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseFive" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingFive" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Customs duties may apply depending on your country's regulations. For DDP
                                        orders, duties are included.
                                        For EXW orders, you'll be responsible for customs clearance.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingSix">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseSix" aria-expanded="false"
                                        aria-controls="flush-collapseSix" (click)="toggleTextClass(5)"
                                        [ngClass]="selectedFaq ==5?'red-text':''">
                                        <p>Can I change the shipping method after placing the order?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseSix" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingSix" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Shipping method changes might be possible if your order hasn't shipped yet.
                                        Contact us to inquire about changing the shipping method.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingSeven">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseSeven" aria-expanded="false"
                                        aria-controls="flush-collapseSeven" (click)="toggleTextClass(6)"
                                        [ngClass]="selectedFaq ==6?'red-text':''">
                                        <p>I change items in my order after it's placed?</p>
                                    </button>
                                </li>
                                <div id="flush-collapseSeven" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingSeven" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Unfortunately, once an order is placed, we can't modify the items.
                                        You may need to cancel and place a new order.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingEight">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseEight" aria-expanded="false"
                                        aria-controls="flush-collapseEight" (click)="toggleTextClass(7)"
                                        [ngClass]="selectedFaq ==7?'red-text':''">
                                        <p>How do I know if my order has been shipped? </p>
                                    </button>
                                </li>
                                <div id="flush-collapseEight" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingEight" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        You'll receive an email with tracking information once your order is shipped.
                                        You can also track your order by clicking on "Track Order" in the "My Order"
                                        section of your account.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingNine">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseNine" aria-expanded="false"
                                        aria-controls="flush-collapseNine" (click)="toggleTextClass(8)"
                                        [ngClass]="selectedFaq ==8?'red-text':''">
                                        <p>How can I download the invoice for my order? </p>
                                    </button>
                                </li>
                                <div id="flush-collapseNine" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        You can easily download the invoice by visiting the "My Order" section in your
                                        account,
                                        selecting the order, and clicking on the "Download Invoice" button.
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <li class="accordion-header lifaq" id="flush-headingTen">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseTen" aria-expanded="false"
                                        aria-controls="flush-collapseTen" (click)="toggleTextClass(9)"
                                        [ngClass]="selectedFaq ==9?'red-text':''">
                                        <p>Where can I find the bill for my recent purchase? </p>
                                    </button>
                                </li>

                                <div id="flush-collapseTen" class="accordion-collapse collapse"
                                    aria-labelledby="flush-headingTen" data-bs-parent="#accordionFlushExample">
                                    <div class="accordion-body">
                                        Log in to your account, navigate to the "My Order" page,
                                        and choose the order you need the bill for. Click on "Download Invoice"
                                        to obtain the bill.
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- </ul> -->
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <app-ourservices></app-ourservices>
        </div>
    </div>
</div>

<app-footer></app-footer>




<!--  
<div class="mt-3 col-12" *ngIf="myOrderRes?.docket_number != null">
    <h4>Docket Details</h4>
    <p>Need to discuss with sir</p>
</div> -->


<div class="container-fluid p-5" id="content" *ngIf="invoiceData" style="z-index: -1; position: fixed;">
    <div class="row negbuyInvoice">

        <img class="bg" src="../../assets/logo/Negbuylogo23.png" alt="Background image" />

        <div class="col-12 header">
            <img src="../../assets/logo/Negbuylogo23.png" alt="Company logo" />
            <h3>Tax Invoice</h3>
        </div>

        <div class="col-12 companyinfo">

            <p><span>Sold by:</span> {{invoiceData.data.sold_by}}</p>
            <p><span>Ship-from address:</span> {{invoiceData.data.ship_from_address}}</p>
            <p><span>GSTIN:</span> {{invoiceData.data.gstin}}</p>

        </div>

        <div class="col-12 buyerDetail">
            <div class="row">

                <div class="col-4">
                    <p><span>Order ID: {{invoiceData.data.order_type}}-{{invoiceData.data.order_id}}</span></p>
                    <p><span>Order Date:</span> {{invoiceData.data.order_date}}</p>
                    <p><span>Invoice Date:</span> {{invoiceData.data.invoice_date}}</p>
                    <p><span>PAN:</span> {{invoiceData.data.pan}}</p>
                    <p><span>CIN:</span> {{invoiceData.data.cin}}</p>
                    <br>
                    <p>Total item: {{invoiceData.data.total_item}}</p>
                </div>

                <div class="col-5">
                    <p><span>Invoice To:</span></p>
                    <p><span>Name: {{invoiceData.data.name}}</span></p>
                    <p><span>Address:</span> {{invoiceData.data.address}}, </p>
                    <p><span>State:</span> {{invoiceData.data.state}}, </p>
                    <p><span>Pincode:</span> {{invoiceData.data.pincode}}</p>
                </div>

                <div class="col-3">
                    <p class="dash"><span>Invoice Number </span>{{ invoiceData.data.invoice_number }}</p>
                    <p class="note">*Keep this invoice and <br>manufacturer box for <br> warranty purpose.</p>
                </div>

            </div>
        </div>

        <div class="col-12 tableData">
            <table class="table">
                <thead>
                    <tr style="border-bottom: 2px solid black;">
                        <th scope="col">Title</th>
                        <th scope="col">Qty</th>
                        <th scope="col">Gross Amount</th>
                        <th scope="col">Discount</th>
                        <th scope="col">Taxable Amount</th>
                        <th scope="col">IGST</th>
                        <th scope="col">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row" class="tableProductName">
                            {{ invoiceData.data.title }}
                            <br>
                            IGST: {{ invoiceData.data.igst }}
                        </th>
                        <td>{{ invoiceData.data.total_item }}</td>
                        <td>{{ invoiceData.data.gross_amount }}</td>
                        <td>{{ invoiceData.data.discount }}</td>
                        <td>{{ invoiceData.data.taxable_amount }}</td>
                        <td>{{ invoiceData.data.igst }}</td>
                        <td>{{ invoiceData.data.total }}</td>
                    </tr>

                    <tr>
                        <th scope="row" class="tableProductName">
                            Shipping and Handling Charges
                        </th>
                        <td>{{ invoiceData.data.total_item }}</td>
                        <td>{{ invoiceData.data.shipping_charges }}</td>
                        <td>{{ invoiceData.data.shipping_discount }}</td>
                        <td>{{ invoiceData.data.final_taxable_amount }}</td>
                        <td>{{ invoiceData.data.final_igst }}</td>
                        <td>{{ invoiceData.data.final_total }}</td>
                    </tr>

                    <tr style="border-bottom: 2px solid black; border-top: 2px solid black;">
                        <th scope="row">
                            Total
                        </th>
                        <td class="totalPrice">{{ invoiceData.data.total_item }}</td>
                        <td class="totalPrice">{{ invoiceData.data.final_gross_amount }}</td>
                        <td class="totalPrice">{{ invoiceData.data.final_discount }}</td>
                        <td class="totalPrice">{{ invoiceData.data.final_taxable_amount }}</td>
                        <td class="totalPrice">{{ invoiceData.data.final_igst }}</td>
                        <td class="totalPrice">{{ invoiceData.data.final_total }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="col-12 signature">
            <h4>Authorised signature</h4>
        </div>

        <div class="col-12 termsCondition">
            <h3>Terms & conditions:</h3>
            <br>
            <p>1. <span>Returns Policy:</span> At Negbuy, we aim for flawless deliveries. If you need to return an item,
                please include the original brand box, price tag, packing, and invoice. These are essential for
                processing your request. Thank you for helping us serve you better. Terms and conditions apply.</p>
            <br>
            <p>2. <span>Contact Us:</span> Please contact customer chat support through Negbuy platform or drop in email
                at {{"contactus@negbuy.com"}}. If you have any issues or queries in respect of your order, please
                contact
                customer chat support through Negbuy platform or drop in email at {{"contactus@negbuy.com"}}.</p>
            <br>
            <p>3. <span>Safety:</span> Please note that we never ask for bank account details such as CVV, account
                number, UPI Pin, etc. across our support channels. For your safety, please do not share these details
                with anyone over any medium.</p>
        </div>


    </div>
</div>